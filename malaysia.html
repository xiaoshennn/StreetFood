<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Street Food | Malaysian Delights</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #faf8f2 url("https://www.transparenttextures.com/patterns/cubes.png");
      color: #2b2b2b;
    }
    h2, h3, h4, h5 {
      font-family: 'Merriweather', serif;
      color: #5a5a42;
    }

    /* Navbar */
    .navbar {
      background-color: #5f634f;
    }
    .navbar-brand, .nav-link {
      color: #fdfdfd !important;
      font-weight: 500;
    }
    .navbar-brand {
      font-family: 'Merriweather', serif;
      font-weight: 700;
      font-size: 1.5rem;
      transition: all 0.3s ease;
    }
    .navbar-brand:hover {
      color: #b7b377 !important;
      transform: scale(1.15);
      text-shadow: 0px 2px 8px rgba(0, 0, 0, 0.3);
    }
    .nav-link {
      position: relative;
      transition: all 0.3s ease;
    }
    .nav-link:hover {
      transform: translateY(-3px);
      color: #b7b377 !important;
    }
    .nav-link::after {
      content: "";
      position: absolute;
      width: 0%;
      height: 2px;
      bottom: -5px;
      left: 0;
      background-color: #b7b377;
      transition: width 0.3s ease;
    }
    .nav-link:hover::after {
      width: 100%;
    }

    /* Hero */
    .hero {
      background: url('images/malaysia-night-market.jpg') center/cover no-repeat;
      color: white;
      height: 50vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      position: relative;
    }
    .hero::after {
      content: "";
      position: absolute;
      top:0; left:0; right:0; bottom:0;
      background: rgba(0,0,0,0.5);
    }
    .hero .container {
      position: relative;
      z-index: 2;
    }
    .hero h1 {
      font-size: 3.5rem;
      font-weight: 700;
      font-family: 'Merriweather', serif;
      color: #a9db3c;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    }

    /* Buttons */
    .btn-custom {
      background-color: #b7b377;
      color: #2b2b2b;
      border-radius: 30px;
      padding: 8px 20px;
      transition: all 0.3s ease;
      font-weight: 600;
    }
    .btn-custom:hover {
      background-color: #8c8a62;
      color: #fff;
      transform: translateY(-2px);
      box-shadow: 0px 4px 12px rgba(0,0,0,0.15);
    }

    /* Cards */
    .card {
      border: none;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transition: transform 0.2s ease;
      height: 100%;
    }
    .card:hover {
      transform: translateY(-5px);
    }
    .card-img-top {
      height: 200px;
      object-fit: cover;
    }
    .card-body {
      display: flex;
      flex-direction: column;
    }
    .card-text {
      flex-grow: 1;
    }

    /* Section intro */
    .section-intro {
      background: white;
      border-radius: 16px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    /* Footer */
    footer {
      background-color: #5f634f;
      color: #eaeaea;
      text-align: center;
      padding: 20px 0;
      margin-top: 50px;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="index.html">Street Food©</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="explore.html">Explore</a></li>
          <li class="nav-item"><a class="nav-link" href="food.html">Food Detail</a></li>
          <li class="nav-item"><a class="nav-link active" href="malaysia.html">Malaysian Food</a></li>
          <li class="nav-item"><a class="nav-link" href="gallery.html">Gallery</a></li>
          <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
          <li class="nav-item"><a class="nav-link" href="favorites.html">Favorites</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Malaysian Street Food</h1>
      <p class="lead">A delicious fusion of Malay, Chinese, and Indian influences</p>
    </div>
  </section>

  <!-- Main Content -->
  <main class="container my-5">
    <div class="section-intro">
      <h2 class="text-center mb-4">The Rich Tapestry of Malaysian Cuisine</h2>
      <p>Malaysian street food is a vibrant reflection of the country's multicultural heritage. From the bustling night markets of Kuala Lumpur to the coastal food stalls of Penang, Malaysian street food offers an incredible diversity of flavors, combining elements from Malay, Chinese, Indian, and indigenous culinary traditions.</p>
      <p>What makes Malaysian street food special is not just the taste, but the experience—the sizzle of the wok, the aroma of spices filling the air, and the communal atmosphere of food stalls where people from all walks of life gather to enjoy delicious, affordable meals.</p>
    </div>

    <h2 class="text-center mb-4">Popular Malaysian Street Foods</h2>
    <div class="row g-4">
      <!-- Nasi Lemak -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/Nasi-Lemak.jpg" class="card-img-top" alt="Nasi Lemak">
          <div class="card-body">
            <h5 class="card-title">Nasi Lemak</h5>
            <p class="card-text">Malaysia's national dish: fragrant rice cooked in coconut milk, served with sambal, fried anchovies, peanuts, and boiled egg.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Nasi Lemak')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>

      <!-- Satay -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/satay.jpg" class="card-img-top" alt="Satay">
          <div class="card-body">
            <h5 class="card-title">Satay</h5>
            <p class="card-text">Skewered and grilled meat served with a flavorful peanut sauce, cucumber, and onion. A beloved Malaysian classic.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Satay')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>

      <!-- Char Kway Teow -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/char kway teow.jpg" class="card-img-top" alt="Char Kway Teow">
          <div class="card-body">
            <h5 class="card-title">Char Kway Teow</h5>
            <p class="card-text">Stir-fried rice noodles with prawns, clams, Chinese sausage, eggs, and bean sprouts in a savory sauce.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Char Kway Teow')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>

      <!-- Roti Canai -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/roti canai.jpg" class="card-img-top" alt="Roti Canai">
          <div class="card-body">
            <h5 class="card-title">Roti Canai</h5>
            <p class="card-text">Flaky, flatbread of Indian origin, served with dhal (lentil curry) or other gravies. A popular breakfast and snack.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Roti Canai')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>

      <!-- Cendol -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/cendol.jpg" class="card-img-top" alt="Cendol">
          <div class="card-body">
            <h5 class="card-title">Cendol</h5>
            <p class="card-text">A refreshing dessert made with shaved ice, coconut milk, palm sugar syrup, and green rice flour jelly.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Cendol')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>

      <!-- Laksa -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/laksa.jpg" class="card-img-top" alt="Laksa">
          <div class="card-body">
            <h5 class="card-title">Laksa</h5>
            <p class="card-text">Spicy noodle soup with a rich, flavorful broth. Variations include Curry Laksa and Asam Laksa.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Laksa')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>

      <!-- Apam Balik -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/apam balik.jpg" class="card-img-top" alt="Apam Balik">
          <div class="card-body">
            <h5 class="card-title">Apam Balik</h5>
            <p class="card-text">A crispy turnover pancake filled with sugar, crushed peanuts, and sometimes corn. A sweet street snack.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Apam Balik')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>

      <!-- Ramly Burger -->
      <div class="col-md-6 col-lg-3">
        <div class="card">
          <img src="images/ramley burger.jpg" class="card-img-top" alt="Ramly Burger">
          <div class="card-body">
            <h5 class="card-title">Ramly Burger</h5>
            <p class="card-text">Malaysia's iconic street burger—a patty wrapped in egg with special sauce, a true late-night favorite.</p>
            <button class="btn btn-custom save-favorite mt-auto" onclick="addToFavorites('Ramly Burger')">
              <i class="fas fa-heart me-1"></i> Save Favorite
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="text-center mt-5">
      <a href="favorites.html" class="btn btn-custom btn-lg">
        <i class="fas fa-heart me-2"></i>View Your Favorites
      </a>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <p>© 2025 Street Food Project</p>
  </footer>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    $(document).ready(function(){
      if (typeof Storage === "undefined") {
        window.localStorage = {
          data: {},
          getItem: function(key) { return this.data[key] || null; },
          setItem: function(key, value) { this.data[key] = value; },
          removeItem: function(key) { delete this.data[key]; }
        };
      }

      function initializeFavorites() {
        let favorites = JSON.parse(localStorage.getItem('malaysianFoodFavorites')) || [];
        $('.save-favorite').each(function() {
          const button = $(this);
          const foodName = button.attr('onclick').match(/'([^']+)'/)[1];
          const isFavorite = favorites.some(item => item.name === foodName);
          if (isFavorite) {
            button.addClass('saved');
            button.html('<i class="fas fa-heart me-1" style="color: #FF0000;"></i> Saved');
          }
        });
      }
      initializeFavorites();
    });

    function addToFavorites(foodName) {
      const now = new Date();
      const timestamp = now.toLocaleString('en-MY', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        timeZone: 'Asia/Kuala_Lumpur'
      });

      let favorites = JSON.parse(localStorage.getItem('malaysianFoodFavorites')) || [];
      const lastVisit = { food: foodName, date: timestamp };
      localStorage.setItem('lastVisitedFood', JSON.stringify(lastVisit));

      const existingIndex = favorites.findIndex(item => item.name === foodName);
      const button = $(`button[onclick="addToFavorites('${foodName}')"]`);

      if (existingIndex === -1) {
        favorites.push({ name: foodName, addedDate: timestamp });
        localStorage.setItem('malaysianFoodFavorites', JSON.stringify(favorites));
        button.addClass('saved');
        button.html('<i class="fas fa-heart me-1" style="color: #FF0000;"></i> Saved');
        alert(foodName + " has been added to your favorites!");
      } else {
        favorites.splice(existingIndex, 1);
        localStorage.setItem('malaysianFoodFavorites', JSON.stringify(favorites));
        button.removeClass('saved');
        button.html('<i class="fas fa-heart me-1"></i> Save Favorite');
        alert(foodName + " has been removed from your favorites!");
      }
    }
  </script>
</body>
</html>
